<!DOCTYPE html>
<html>
  
<head> 
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
 <title>editApp</title> 
</head> 
  
<body style="margin:0px; padding:0px"> 
  
  <div class="div1" id="div1">
    <video width="" height="" id="video1"
      controls> 
      <source src="" 
        type=""> 
    </video>
  </div> 
  
  <div class="div2" id="div2"> 
    <input type="button" id="flip-button" value="Flip">
  </div>
  
  <script> 
    
    var front = true; 
    document.getElementById('flip-button').onclick = function() { front = !front; }; 
    // var constraints = { video: { facingMode: (front? "user" : "environment") } };

    // Prefer camera resolution nearest to 1280x720. 
    var constraints = { audio: true, 
                        video: { width: 1080, height: 720, 
                                // frameRate: { ideal: 24, max: 30 }, 
                                facingMode: ( front? "user" : "environment" ) 
                               }
                      }; 
    
    navigator.mediaDevices.getUserMedia(constraints) 
      .then(function(mediaStream) { 
      var video = document.querySelector('video'); 
      video.srcObject = mediaStream; 
      video.onloadedmetadata = function(e) { 
        video.play(); 
      }; 
    }) 
      .catch(function(err) { console.log(err.name + ": " + err.message); }); // always check for errors at the end.

    
  </script>
  
</body>
</html>
